<!DOCTYPE html>
<html lang="en"><head>
<script src="text-analysis-slides_files/libs/clipboard/clipboard.min.js"></script>
<script src="text-analysis-slides_files/libs/quarto-html/tabby.min.js"></script>
<script src="text-analysis-slides_files/libs/quarto-html/popper.min.js"></script>
<script src="text-analysis-slides_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="text-analysis-slides_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="text-analysis-slides_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="text-analysis-slides_files/libs/quarto-html/quarto-syntax-highlighting-dark-2fef5ea3f8957b3e4ecc936fc74692ca.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <title>Text Analysis</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="text-analysis-slides_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="text-analysis-slides_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="text-analysis-slides_files/libs/revealjs/dist/theme/quarto-0144685976e4030202a49018b3418199.css">
  <link href="text-analysis-slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="text-analysis-slides_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="text-analysis-slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="text-analysis-slides_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="text-analysis-slides_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="text-analysis-slides_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Text Analysis</h1>
  <p class="subtitle">Chapter 8: EDA for Machine Learning</p>

<div class="quarto-title-authors">
</div>

</section>
<section id="why-analyze-text" class="slide level2">
<h2>Why Analyze Text?</h2>
<ul>
<li class="fragment">Social media posts, customer reviews, survey responses</li>
<li class="fragment">News articles, scientific papers, legal documents</li>
<li class="fragment">Emails, chat logs, transcripts</li>
<li class="fragment">Historical archives, literary corpora</li>
</ul>
<div class="fragment">
<p><strong>Challenge</strong>: Text is <em>unstructured</em>—how do we extract quantitative insights?</p>
<aside class="notes">
<p>Text data is everywhere and growing exponentially. The challenge is converting unstructured language into structured features we can analyze and model.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="eda-for-text-a-systematic-approach" class="slide level2">
<h2>EDA for Text: A Systematic Approach</h2>
<ol type="1">
<li class="fragment"><strong>Tokenize</strong>: Break text into meaningful units (words)</li>
<li class="fragment"><strong>Examine frequencies</strong>: What words dominate? Do they make sense?</li>
<li class="fragment"><strong>Compute tf-idf</strong>: Find distinctive terms</li>
<li class="fragment"><strong>Consider topic models</strong>: Discover latent themes</li>
<li class="fragment"><strong>Iterate</strong>: Unexpected patterns → data issues or insights</li>
</ol>
<div class="fragment">
<p>The methods in this chapter provide a toolkit for exploring text corpora.</p>
<aside class="notes">
<p>This mirrors our general EDA philosophy: look at the data systematically before modeling. Text just requires different tools.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="the-iterative-process" class="slide level2">
<h2>The Iterative Process</h2>
<p>Text analysis is rarely linear—findings prompt refinement:</p>
<div class="fragment">
<table class="caption-top">
<thead>
<tr class="header">
<th>You notice…</th>
<th>So you…</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Strange tokens (URLs, “©”, “n’t”)</td>
<td>Clean source data, re-tokenize</td>
</tr>
<tr class="even">
<td>Domain words dominating (“said” in news)</td>
<td>Expand stop word list</td>
</tr>
<tr class="odd">
<td>“run/running/runs” fragmenting</td>
<td>Consider stemming</td>
</tr>
<tr class="even">
<td>Topics too coarse or noisy</td>
<td>Adjust k, refine vocabulary</td>
</tr>
</tbody>
</table>
</div>
<div class="fragment">
<p>Each pass deepens understanding of the corpus.</p>
<aside class="notes">
<p>This is the heart of EDA—iterating between analysis and data preparation. The first pass is never the last pass.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="what-is-a-token" class="slide level2">
<h2>What is a Token?</h2>
<p>A <strong>token</strong> is a meaningful unit of text for analysis.</p>
<div class="fragment">
<p>Most commonly: a <em>word</em></p>
</div>
<div class="fragment">
<p>But could also be:</p>
<ul>
<li>Characters</li>
<li>Sentences</li>
<li>n-grams (phrases of <em>n</em> consecutive words)</li>
<li>Subword units</li>
</ul>
<aside class="notes">
<p>The choice of token affects everything downstream. Words are the default, but other choices make sense for certain applications.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="tokenization-the-basic-idea" class="slide level2">
<h2>Tokenization: The Basic Idea</h2>
<p><strong>Raw text</strong>:</p>
<blockquote>
<p>“Life’s but a walking shadow, a poor player / That struts and frets his hour upon the stage”</p>
</blockquote>
<div class="fragment">
<p><strong>Tokenized</strong>:</p>
<table class="caption-top">
<thead>
<tr class="header">
<th>Line</th>
<th>Word</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>24</td>
<td>life’s</td>
</tr>
<tr class="even">
<td>24</td>
<td>but</td>
</tr>
<tr class="odd">
<td>24</td>
<td>a</td>
</tr>
<tr class="even">
<td>24</td>
<td>walking</td>
</tr>
<tr class="odd">
<td>24</td>
<td>shadow</td>
</tr>
<tr class="even">
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<aside class="notes">
<p>Tokenization converts flowing prose into a table we can manipulate. Each row is one token with metadata about where it came from.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="stop-words" class="slide level2">
<h2>Stop Words</h2>
<p><strong>Stop words</strong>: Common words that provide structure but little meaning</p>
<div class="fragment">
<p><em>a, an, the, and, or, but, is, are, was, were, to, of, in, for, on, with, …</em></p>
</div>
<div class="fragment">
<p><strong>Before removal</strong>: 37 tokens from Macbeth passage</p>
<p><strong>After removal</strong>: 12 tokens</p>
</div>
<div class="fragment">
<table class="caption-top">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th>Remaining words</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>life’s, walking, shadow, poor, player, struts, frets, hour, stage, tale, idiot, sound, fury, signifying</td>
</tr>
</tbody>
</table>
<aside class="notes">
<p>Stop word removal is standard but not always appropriate. In some analyses, function words carry important signals about authorship or style.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="stemming-and-lemmatization" class="slide level2">
<h2>Stemming and Lemmatization</h2>
<p><strong>Problem</strong>: “running”, “runs”, “ran” are the same concept</p>
<div class="fragment">
<p><strong>Stemming</strong>: Apply rules to strip suffixes</p>
<ul>
<li>running → run</li>
<li>studies → studi (imperfect!)</li>
</ul>
</div>
<div class="fragment">
<p><strong>Lemmatization</strong>: Use vocabulary knowledge for true roots</p>
<ul>
<li>better → good</li>
<li>ran → run</li>
</ul>
</div>
<div class="fragment">
<p>We won’t implement these, but you should know they exist.</p>
<aside class="notes">
<p>R packages like SnowballC and textstem provide these capabilities. The tradeoff: grouping related words vs.&nbsp;losing meaningful distinctions.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="counting-words" class="slide level2">
<h2>Counting Words</h2>
<p>The simplest analysis: <em>how often does each word appear?</em></p>
<div class="fragment">
<p><strong>Jane Austen’s novels</strong> (top 10, excluding stop words):</p>
<table class="caption-top">
<thead>
<tr class="header">
<th>Word</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>miss</td>
<td>1,855</td>
</tr>
<tr class="even">
<td>time</td>
<td>1,337</td>
</tr>
<tr class="odd">
<td>fanny</td>
<td>1,134</td>
</tr>
<tr class="even">
<td>dear</td>
<td>990</td>
</tr>
<tr class="odd">
<td>lady</td>
<td>945</td>
</tr>
<tr class="even">
<td>sir</td>
<td>806</td>
</tr>
<tr class="odd">
<td>day</td>
<td>797</td>
</tr>
<tr class="even">
<td>emma</td>
<td>786</td>
</tr>
<tr class="odd">
<td>sister</td>
<td>727</td>
</tr>
<tr class="even">
<td>house</td>
<td>699</td>
</tr>
</tbody>
</table>
<aside class="notes">
<p>Character names, social titles, and domestic settings dominate. This immediately tells us something about the content.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="austen-vs.-wells-two-vocabularies" class="slide level2">
<h2>Austen vs.&nbsp;Wells: Two Vocabularies</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Jane Austen</strong></p>
<table class="caption-top">
<thead>
<tr class="header">
<th>Word</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>miss</td>
<td>1,855</td>
</tr>
<tr class="even">
<td>time</td>
<td>1,337</td>
</tr>
<tr class="odd">
<td>fanny</td>
<td>1,134</td>
</tr>
<tr class="even">
<td>dear</td>
<td>990</td>
</tr>
<tr class="odd">
<td>lady</td>
<td>945</td>
</tr>
<tr class="even">
<td>sir</td>
<td>806</td>
</tr>
<tr class="odd">
<td>day</td>
<td>797</td>
</tr>
<tr class="even">
<td>emma</td>
<td>786</td>
</tr>
<tr class="odd">
<td>sister</td>
<td>727</td>
</tr>
<tr class="even">
<td>house</td>
<td>699</td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:50%;">
<p><strong>H.G. Wells</strong></p>
<table class="caption-top">
<thead>
<tr class="header">
<th>Word</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>time</td>
<td>456</td>
</tr>
<tr class="even">
<td>people</td>
<td>306</td>
</tr>
<tr class="odd">
<td>man</td>
<td>285</td>
</tr>
<tr class="even">
<td>kemp</td>
<td>220</td>
</tr>
<tr class="odd">
<td>door</td>
<td>214</td>
</tr>
<tr class="even">
<td>black</td>
<td>204</td>
</tr>
<tr class="odd">
<td>hand</td>
<td>200</td>
</tr>
<tr class="even">
<td>moreau</td>
<td>192</td>
</tr>
<tr class="odd">
<td>stood</td>
<td>181</td>
</tr>
<tr class="even">
<td>night</td>
<td>175</td>
</tr>
</tbody>
</table>
</div></div>
<aside class="notes">
<p>Social world (miss, dear, lady, sir) vs.&nbsp;physical world (door, hand, black, night). Character names appear in both, but the surrounding vocabulary differs dramatically.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-problem-with-raw-counts" class="slide level2">
<h2>The Problem with Raw Counts</h2>
<p>Common words dominate <em>every</em> document.</p>
<div class="fragment">
<p>If we’re comparing documents, raw frequency doesn’t tell us what’s <em>distinctive</em>.</p>
</div>
<div class="fragment">
<p>We need a measure that balances:</p>
<ul>
<li><strong>Frequency within a document</strong> (this word matters here)</li>
<li><strong>Rarity across the corpus</strong> (this word is unusual)</li>
</ul>
<aside class="notes">
<p>This motivates tf-idf, one of the most useful tools in text analysis.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="class-exercise" class="slide level2">
<h2>Class Exercise</h2>
<p><strong>Task</strong>: Team up and devise a way to compare word frequencies in Austen and Wells.</p>
<div class="fragment">
<p>Consider:</p>
<ul>
<li>What words are shared most frequently?</li>
<li>What words appear in one author but not the other?</li>
<li>Should stop words be included or excluded?</li>
</ul>
</div>
<div class="fragment">
<p><em>20 minutes to prepare a brief report</em></p>
<aside class="notes">
<p>This exercise gets students thinking about comparison before introducing tf-idf as a formal solution.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="tf-idf-the-intuition" class="slide level2">
<h2>TF-IDF: The Intuition</h2>
<p><strong>Term Frequency (tf)</strong>: How often does this word appear in <em>this</em> document?</p>
<div class="fragment">
<p><strong>Inverse Document Frequency (idf)</strong>: How rare is this word across <em>all</em> documents?</p>
</div>
<div class="fragment">
<p><strong>TF-IDF</strong>: Multiply them together</p>
<p><span class="math display">\[\text{tf-idf}(t, d) = \text{tf}(t, d) \times \log\left(\frac{N}{n_t}\right)\]</span></p>
</div>
<div class="fragment">
<p>High tf-idf → word is <em>frequent here</em> but <em>rare elsewhere</em></p>
<aside class="notes">
<p>The logarithm dampens the idf term so that very rare words don’t completely dominate.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="tf-idf-what-it-captures" class="slide level2">
<h2>TF-IDF: What It Captures</h2>
<table class="caption-top">
<colgroup>
<col style="width: 52%">
<col style="width: 48%">
</colgroup>
<thead>
<tr class="header">
<th>High tf-idf</th>
<th>Low tf-idf</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Words distinctive to this document</td>
<td>Common words appearing everywhere</td>
</tr>
<tr class="even">
<td>Character names, key concepts</td>
<td>Stop words, generic vocabulary</td>
</tr>
<tr class="odd">
<td>“What makes this text special?”</td>
<td>“Background noise”</td>
</tr>
</tbody>
</table>
<aside class="notes">
<p>TF-IDF is a way of automatically finding the most informative words without having to hand-curate a list.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="austen-most-distinctive-word-per-novel" class="slide level2">
<h2>Austen: Most Distinctive Word Per Novel</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Novel</th>
<th>Top tf-idf word</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Sense &amp; Sensibility</td>
<td>elinor</td>
</tr>
<tr class="even">
<td>Pride &amp; Prejudice</td>
<td>darcy</td>
</tr>
<tr class="odd">
<td>Mansfield Park</td>
<td>fanny</td>
</tr>
<tr class="even">
<td>Emma</td>
<td>emma</td>
</tr>
<tr class="odd">
<td>Northanger Abbey</td>
<td>catherine</td>
</tr>
<tr class="even">
<td>Persuasion</td>
<td>anne</td>
</tr>
</tbody>
</table>
<div class="fragment">
<p><strong>Protagonist names!</strong> TF-IDF finds what distinguishes each book automatically.</p>
<aside class="notes">
<p>This is a nice validation—tf-idf discovers meaningful structure without any prior knowledge of the novels.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="document-term-matrix-dtm" class="slide level2">
<h2>Document-Term Matrix (DTM)</h2>
<p>A different view of the same data:</p>
<div class="fragment">
<table class="caption-top">
<thead>
<tr class="header">
<th></th>
<th>word₁</th>
<th>word₂</th>
<th>word₃</th>
<th>…</th>
<th>wordₖ</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>doc₁</td>
<td>3</td>
<td>0</td>
<td>1</td>
<td>…</td>
<td>0</td>
</tr>
<tr class="even">
<td>doc₂</td>
<td>0</td>
<td>5</td>
<td>0</td>
<td>…</td>
<td>2</td>
</tr>
<tr class="odd">
<td>doc₃</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>…</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
<div class="fragment">
<ul>
<li>Rows = documents</li>
<li>Columns = terms (vocabulary)</li>
<li>Values = counts (or tf-idf weights)</li>
</ul>
<aside class="notes">
<p>This matrix representation is what most ML algorithms expect. The tidy format is better for exploration; the matrix format is better for modeling.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="sparsity" class="slide level2">
<h2>Sparsity</h2>
<p>A corpus with 2,246 documents and 10,473 unique terms:</p>
<div class="fragment">
<p><strong>Potential entries</strong>: 2,246 × 10,473 = <strong>23.5 million</strong></p>
</div>
<div class="fragment">
<p><strong>Non-zero entries</strong>: 302,031</p>
</div>
<div class="fragment">
<p><strong>Sparsity</strong>: 99%</p>
</div>
<div class="fragment">
<p>Most (document, term) pairs have zero occurrences → <em>sparse matrix</em> representation saves memory.</p>
<aside class="notes">
<p>This is why specialized data structures exist for text data. You can’t store millions of zeros efficiently in a regular matrix.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="tidy-matrix-two-views" class="slide level2">
<h2>Tidy ↔︎ Matrix: Two Views</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Tidy format</strong></p>
<table class="caption-top">
<thead>
<tr class="header">
<th>document</th>
<th>term</th>
<th>count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>adding</td>
<td>1</td>
</tr>
<tr class="even">
<td>1</td>
<td>adult</td>
<td>2</td>
</tr>
<tr class="odd">
<td>1</td>
<td>ago</td>
<td>1</td>
</tr>
<tr class="even">
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<p><em>Good for exploration</em></p>
</div><div class="column" style="width:50%;">
<p><strong>Matrix format</strong></p>
<table class="caption-top">
<thead>
<tr class="header">
<th></th>
<th>adding</th>
<th>adult</th>
<th>ago</th>
<th>…</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>…</td>
</tr>
<tr class="even">
<td>2</td>
<td>0</td>
<td>0</td>
<td>3</td>
<td>…</td>
</tr>
</tbody>
</table>
<p><em>Good for modeling</em></p>
</div></div>
<div class="fragment">
<p>Convert with <code>tidy()</code> and <code>cast_dtm()</code> / <code>cast_dfm()</code></p>
<aside class="notes">
<p>The tidytext package makes it easy to move between these formats. Explore in tidy, model in matrix.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="topic-models-unsupervised-discovery" class="slide level2">
<h2>Topic Models: Unsupervised Discovery</h2>
<p><strong>Problem</strong>: We have thousands of documents with no labels.</p>
<div class="fragment">
<p><strong>Question</strong>: What are they <em>about</em>?</p>
</div>
<div class="fragment">
<p><strong>Topic modeling</strong>: Automatically discover latent themes</p>
<ul>
<li>No pre-defined categories</li>
<li>Algorithms find structure in word co-occurrence</li>
</ul>
<aside class="notes">
<p>This is unsupervised learning applied to text—similar to clustering for numeric data.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="lda-latent-dirichlet-allocation" class="slide level2">
<h2>LDA: Latent Dirichlet Allocation</h2>
<p>Two key assumptions:</p>
<div class="fragment">
<ol type="1">
<li><p><strong>Every document is a mixture of topics</strong></p>
<p>“Document 1 is 90% politics, 10% sports”</p></li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li><p><strong>Every topic is a mixture of words</strong></p>
<p>“Politics topic: president, congress, government, vote, …”</p></li>
</ol>
</div>
<div class="fragment">
<p>Topics can <strong>overlap</strong>—words like “budget” might appear in multiple topics.</p>
<aside class="notes">
<p>LDA is a generative probabilistic model. The math is substantial, but the intuition is accessible.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="example-associated-press-articles" class="slide level2">
<h2>Example: Associated Press Articles</h2>
<p>2,246 news articles from 1988</p>
<div class="fragment">
<p>Fit a 2-topic model:</p>
</div>
<div class="fragment">
<p><strong>What topics emerge?</strong></p>
<aside class="notes">
<p>This is a classic example from the topic modeling literature. Two topics is artificial but illustrative.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="ap-articles-top-terms-per-topic" class="slide level2">
<h2>AP Articles: Top Terms Per Topic</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Topic 1</strong></p>
<table class="caption-top">
<thead>
<tr class="header">
<th>Term</th>
<th>Prob</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>percent</td>
<td>.029</td>
</tr>
<tr class="even">
<td>million</td>
<td>.019</td>
</tr>
<tr class="odd">
<td>billion</td>
<td>.017</td>
</tr>
<tr class="even">
<td>company</td>
<td>.014</td>
</tr>
<tr class="odd">
<td>market</td>
<td>.012</td>
</tr>
<tr class="even">
<td>stock</td>
<td>.009</td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:50%;">
<p><strong>Topic 2</strong></p>
<table class="caption-top">
<thead>
<tr class="header">
<th>Term</th>
<th>Prob</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>government</td>
<td>.017</td>
</tr>
<tr class="even">
<td>soviet</td>
<td>.015</td>
</tr>
<tr class="odd">
<td>president</td>
<td>.013</td>
</tr>
<tr class="even">
<td>people</td>
<td>.012</td>
</tr>
<tr class="odd">
<td>police</td>
<td>.010</td>
</tr>
<tr class="even">
<td>state</td>
<td>.009</td>
</tr>
</tbody>
</table>
</div></div>
<p><strong>Topic 1</strong>: Business | <strong>Topic 2</strong>: Politics</p>
<aside class="notes">
<p>The algorithm discovered meaningful categories without being told what to look for. Note “new” appears in both—topics overlap.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="comparing-topics-log-ratio" class="slide level2">
<h2>Comparing Topics: Log Ratio</h2>
<p>Which terms most <em>distinguish</em> topics?</p>
<div class="fragment">
<p><span class="math display">\[\log_2\left(\frac{\beta_2}{\beta_1}\right)\]</span></p>
</div>
<div class="fragment">
<ul>
<li><strong>Positive</strong>: More probable in Topic 2 (politics)</li>
<li><strong>Negative</strong>: More probable in Topic 1 (business)</li>
</ul>
<aside class="notes">
<p>This visualization makes topic differences crisp. Terms near zero belong equally to both topics.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="log-ratio-business-vs.-politics-terms" class="slide level2">
<h2>Log Ratio: Business vs.&nbsp;Politics Terms</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>More Business (Topic 1)</th>
<th>More Politics (Topic 2)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>stock</td>
<td>democratic</td>
</tr>
<tr class="even">
<td>prices</td>
<td>government</td>
</tr>
<tr class="odd">
<td>trading</td>
<td>military</td>
</tr>
<tr class="even">
<td>earnings</td>
<td>senate</td>
</tr>
<tr class="odd">
<td>oil</td>
<td>congress</td>
</tr>
<tr class="even">
<td>index</td>
<td>republican</td>
</tr>
<tr class="odd">
<td>dollar</td>
<td>officials</td>
</tr>
<tr class="even">
<td>rates</td>
<td>soviet</td>
</tr>
<tr class="odd">
<td>shares</td>
<td>bush</td>
</tr>
<tr class="even">
<td>bank</td>
<td>party</td>
</tr>
</tbody>
</table>
<aside class="notes">
<p>This confirms our interpretation: Topic 1 is financial/economic news, Topic 2 is political news.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="beyond-word-counts" class="slide level2">
<h2>Beyond Word Counts</h2>
<p>So far: words as discrete tokens, documents as sparse vectors</p>
<div class="fragment">
<p><strong>Limitations</strong>:</p>
<ul>
<li>“not good” ≈ “good” (no negation)</li>
<li>“excellent” and “superb” look unrelated</li>
<li>No semantic similarity</li>
</ul>
</div>
<div class="fragment">
<p>Modern approaches learn <strong>dense, continuous representations</strong> that capture meaning.</p>
<aside class="notes">
<p>This is where the field has moved in the past decade. The basic EDA techniques still matter, but modeling has transformed.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="sentiment-analysis" class="slide level2">
<h2>Sentiment Analysis</h2>
<p>Assign emotional valence to text: positive, negative, neutral</p>
<div class="fragment">
<p><strong>Lexicon approach</strong>: Look up words in curated lists</p>
<table class="caption-top">
<thead>
<tr class="header">
<th>Lexicon</th>
<th>Scoring</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>AFINN</td>
<td>Numeric (−5 to +5)</td>
</tr>
<tr class="even">
<td>Bing</td>
<td>Binary (positive/negative)</td>
</tr>
<tr class="odd">
<td>NRC</td>
<td>Emotions (joy, anger, fear, …)</td>
</tr>
</tbody>
</table>
</div>
<div class="fragment">
<p>Simple but inherits bag-of-words limitations: “not good” scores as positive.</p>
<aside class="notes">
<p>Sentiment analysis is widely used for product reviews, social media monitoring, customer feedback. More sophisticated methods use ML to account for context.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="word-embeddings" class="slide level2">
<h2>Word Embeddings</h2>
<p>Words as <strong>dense vectors</strong> (100–300 dimensions) learned from large corpora</p>
<div class="fragment">
<p>Key insight: <em>words in similar contexts have similar vectors</em></p>
</div>
<div class="fragment">
<p>“king” and “queen” are close; “Paris” and “France” are close</p>
</div>
<div class="fragment">
<p><strong>Analogy via arithmetic</strong>:</p>
<p><span class="math display">\[\vec{king} - \vec{man} + \vec{woman} \approx \vec{queen}\]</span></p>
<aside class="notes">
<p>This is dimension reduction applied to vocabulary—compressing 50,000-dimensional one-hot vectors to 300 dimensions while preserving semantic structure.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="embedding-methods" class="slide level2">
<h2>Embedding Methods</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Method</th>
<th>Key Idea</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Word2Vec</strong></td>
<td>Predict words from context (or vice versa)</td>
</tr>
<tr class="even">
<td><strong>GloVe</strong></td>
<td>Learn from global co-occurrence statistics</td>
</tr>
<tr class="odd">
<td><strong>FastText</strong></td>
<td>Include subword info (handles rare words)</td>
</tr>
</tbody>
</table>
<div class="fragment">
<p>Pre-trained embeddings are freely available for many languages.</p>
<aside class="notes">
<p>Students don’t need to train these from scratch—pre-trained models exist. The conceptual insight is what matters at this level.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="transformers-and-llms" class="slide level2">
<h2>Transformers and LLMs</h2>
<p><strong>Limitation of embeddings</strong>: “bank” has one vector regardless of context</p>
<div class="fragment">
<p><strong>Transformers</strong> (2017): Context-sensitive representations</p>
<ul>
<li>Same word → different vectors depending on surrounding words</li>
<li>Captures polysemy and nuance</li>
</ul>
</div>
<div class="fragment">
<p>Foundation of <strong>GPT</strong>, <strong>BERT</strong>, and modern LLMs</p>
</div>
<div class="fragment">
<p><em>Rapidly evolving field</em></p>
<aside class="notes">
<p>This is the current frontier. Capabilities that seemed futuristic a few years ago are now routine.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="implications-for-machine-learning" class="slide level2">
<h2>Implications for Machine Learning</h2>
<p>Text representations become <strong>features</strong> for:</p>
<ul>
<li>Classification (spam, sentiment, topic)</li>
<li>Clustering (document organization)</li>
<li>Search (semantic similarity)</li>
</ul>
<div class="fragment">
<p>Text can also be represented as <strong>networks</strong> (words as nodes, co-occurrence as edges)</p>
</div>
<div class="fragment">
<p><strong>EDA still matters</strong>: Understanding vocabulary, frequencies, and patterns informs modeling decisions.</p>
<aside class="notes">
<p>Even with modern deep learning methods, the exploratory techniques from this chapter remain valuable for understanding your data before modeling.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="resources" class="slide level2">
<h2>Resources</h2>
<ul>
<li><a href="https://www.tidytextmining.com/">Text Mining with R</a> — Silge &amp; Robinson</li>
<li><a href="https://cran.r-project.org/web/views/NaturalLanguageProcessing.html">CRAN Task View: NLP</a></li>
<li><a href="https://nlp.stanford.edu/projects/glove/">GloVe</a> — Stanford NLP</li>
<li><a href="https://fasttext.cc/">FastText</a> — Meta AI</li>
<li><a href="https://www.jmlr.org/papers/volume3/blei03a/blei03a.pdf">LDA paper</a> — Blei, Ng, Jordan (2003)</li>
</ul>
<aside class="notes">
<p>Point students to these for deeper exploration. The Silge &amp; Robinson book is particularly accessible and uses the same tidytext approach from the chapter.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="summary" class="slide level2">
<h2>Summary</h2>
<ul>
<li class="fragment"><strong>Tokenization</strong> converts text to analyzable units</li>
<li class="fragment"><strong>Word frequencies</strong> reveal content; <strong>tf-idf</strong> finds distinctive terms</li>
<li class="fragment"><strong>Document-term matrices</strong> connect tidy exploration to ML pipelines</li>
<li class="fragment"><strong>Topic models</strong> discover latent structure without labels</li>
<li class="fragment"><strong>Modern methods</strong> learn dense representations capturing semantics</li>
<li class="fragment"><strong>EDA principles apply</strong>: explore systematically before modeling</li>
</ul>
<aside class="notes">
<p>The chapter gives students a toolkit for text EDA and situates it in the broader ML landscape.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>

</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="text-analysis-slides_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="text-analysis-slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="text-analysis-slides_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="text-analysis-slides_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="text-analysis-slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="text-analysis-slides_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="text-analysis-slides_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="text-analysis-slides_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="text-analysis-slides_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="text-analysis-slides_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="text-analysis-slides_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>